\documentclass[a4paper,10pt]{article}
\usepackage{graphicx}
\begin{document}
\title{Progress Report and Thesis plan}
\author{Richard Ashley}
\maketitle
\begin{flushright}
Student: Richard Ashley

Supervisor: Tom Marsh
\end{flushright}

\begin{abstract} 
Since May 2002, the  Ultracam high-speed CCD photometric camera has been taking observations of a variety of astronomical objects at the William Herschel Telescope (WHT), Very Large Telescope (VLT) and New Technology Telescope (NTT). Over this period it has generated approximately 10 Terabytes of raw data (CCD frames plus meta-data) taken on 382 observing nights and including 
approximately 566 target objects. In this data there are objects that may hold scientific interest and have not been investigated. 
Objects in the data need to be identified, listed and have reductions performed to determine their light-curves. The goal of 
this 1 year MSc project is to build an automated software pipeline that will process the Ultracam data archive and produce a browse-able 
version of the light-curves and meta-data for all of the observations. 
\end{abstract}

\section{The Ultracam automated pipeline} 

The Ultracam high speed photometry camera (hereafter, Ultracam) had its 'first-light' at the William Herschel Telescope (WHT) on the 16 May 2002. Since then it has been used on many occasions at three telescopes, namely the William Herschel Telescope (WHT), La Palma, Islas Canarias, the Very Large Telescope (VLT), Cerro Paranal, Chile and New Technology Telescope (NTT), La Silla, Chile. The camera is designed to be portable and can travel between these telescopes. 

\subsection{About the camera}
The camera has three CCD detectors enabling it to capture data in three colour bands simultaneously. Two dichroic beamsplitters divide the light from the collimator into three different beams, which shall hereafter be referred to as the ‘red’, ‘green’ and ‘blue’ channels. The three CCD detectors are mounted at right angles to each other on the camera. Therefore, each detector is at the end of a slightly different optical path. While the exposure timing is synchronised across the detectors, it is, however, possible to have detector in the blue channel remain exposed and not 'read-out' while the other two are going through multiple exposures and 'read-outs'. This is to allow for longer exposures where there might be less flux blue, either due to the intrinsic colour of the object being observed or a narrow band filter being used for that channel. 

\begin{figure}[!h]
\centering
\includegraphics[width=90mm]{images/IMG_0121_scaled.JPG}
\caption{The Ultracam being commissioned in May 2002.}
\label{fig1}
\end{figure}


A key aspect of the design of the camera is its ability to perform at high cadence. It is possible to have the camera read-out at up to 500Hz (frames per channel per second) \cite{dhillon07}. This makes the camera useful for observations of rapid transient events and accurate timing. 

The filters for each channel can be modified. In usual configurations the SDSS filter (u, g, r, i, z) set are used, but there is also a selection of narrow-band filters that can be substituted.  

Each CCD has a total pixel area of 2048x1033 pixels. Half of these pixels are masked and never exposed to light. They are used as a temporary buffer for reading out the chip. CCD detectors are read out serially, but in order to decrease the time between exposures, the full image can be moved to the blanked out area of the chip and this can then be read out while the un-masked area of the chip is once again exposed to light. 

\begin{figure}[!h]
\centering
\includegraphics[width=90mm]{images/ccd.png}
\caption{The CCD detector (one channel) showing the masked-off area.}
\label{fig2}
\end{figure}

The Ultracam gives the observer the ability to reduce the amount of the detector that is used for the exposure. This, again, speeds up the readout of the chip and enables the high cadence. Reducing the number of pixels exposed also decreases the amount of data storage needed for the run. The observer can define pairs of \emph{windows} that are centered on their objects of interest. By making the windows suitably small, the observer can have the camera in extremely high cadence mode. 

The highest cadence mode is called \emph{Drift mode}. This mode uses the masked area of the CCD chip to store several exposures simultaneously. Only the portion of the CCD that is exposed is shifted into the masked area of the CCD meaning that the unmaksed area is ready to be re-exposed more quickly. This mode requires that only the lower portion of the detector, close to the boundary of the masked and un-masked areas, is exposed. In order to operate in Drift mode, it is likely that the observer will have to rotate the camera in order to place the target object(s) in the correct place on the CCD. This means that we can have any orientation ($0-180^{\circ}$) of the sky coordinates for any particular run of the Ultracam.   

\begin{figure}
\centering
\begin{minipage}{.5\textwidth}
  \centering
  \includegraphics[width=40mm]{images/run010_r.png}
  \caption{A 'fully' exposed CCD with 1 pair of windows (512x1024 pixels each)}
  \label{fig:test1}
\end{minipage}%
\begin{minipage}{.5\textwidth}
  \centering
  \includegraphics[width=40mm]{images/run016_r.png}
  \caption{A 'windowed' exposure with 2 pairs of windows (350x300 and 250x250 pixels)}
  \label{fig:test2}
\end{minipage}
\end{figure}

More details on the camera design and operation can be found in \emph{ULTRACAM: an ultrafast, triple-beam CCD camera for high-speed
astrophysics \cite{dhillon07}}.

\subsection{Observation and recording of data}

Typically the telescope remains installed on the telescope for a week or so and is used for observations on consecutive nights. During the night there are several \emph{runs} made. A \emph{run} can be defined as a period when the camera is active and gathering data. Not all runs are used for gathering \emph{scientific} data. Some runs are used for target acquisition and camera calibration purposes. 

The types of runs are: 
\begin{itemize}
	\item \emph{Science run}: These are the runs that contain the valuable scientific data. They usually comprise the longest portions of the observations during the night, unless the camera is having difficulties or adverse conditions are preventing useful astronomical observations.
	\item \emph{Acquisition run}: These are runs, usually of short duration (ie a few minutes) during which the telescope is being moved in order to place the candidate object(s) in the field of view. The camera may also be rotated in order to align the CCD such that the targets avoid 'bad' pixels or are near to the lower boundary of the detector (eg for high speed readout in Drift mode). 
	\item \emph{Flat-field}: At the start and the end of the night (usually during twilight) the observer will take a few runs to establish \emph{flat-fields} that will be used later for calibration of the CCD detectors.  
	\item \emph{Bias}: A short run to build calibration readings for measuring CCD read-out noise. 
	\item \emph{Timing calibration run}: One way to check the timing measurments of the camera is to take frames of a well-known rapidly oscillating source. For example, the crab nebula pulsar. The timing of the pulses as measured by the camera can be compared to the expected times for the pulsar and serve as a standard clock for calibration.
\end{itemize}

\subsection{The data archive}
At the time of writing, the Ultracam data archive comprises of about 10 terabytes of saved data. This can be broken down as:
\begin{itemize}
	\item \emph{390} nights on which the Ultracam was operational at a telescope.
	\item \emph{12 256} runs, including Science, Acquisition runs, etc as listed above. 
	\item \emph{119 817 742} frames in total. This is includes the totals for each channel; red, green and blue.
	\item \emph{10 181 269 485 298} bytes of raw image data.
\end{itemize} 
The data set is of a relatively large size and this means that it is not readily available outside of the university network. \emph{Check with Tom: Sheffield has a complete archive too.... Is it accessible in a different way over there?} 

\subsection{Data reduction}


\subsection{Goals of the project}

The outcome of this MSc project will be a method to automate the overall processing of the Ultracam data. The key aims will be field identification, deep image generation and light-curve reduction forall of the science runs in the data. 

The final product should allow researchers to quickly browse the reduced data and examine light-curves of each object in all of the 
runs. The light-curves and runs should also be graded in terms of quality (eg seeing, atmospheric transmission, etc) 

The \emph{minimum} goals for this project are:
\begin{itemize}
	\item Automated pipeline which can process ULTRACAM data to obtain light-curves for all objects within the field of any science runof all of the science runs for the Ultracam data. This data will include light-curves for all objects and all channels (colours or filters) in each run. An indicator of quality of the run will also be provided. 
	\item A light-curve browser allowing a researcher to query and browse the Ultracam archive by date, object and position.
	\item Images of the field for all three channels for each run, based on integration of frames in the run. The quality of the image will be ensured by discarding poor frames and taking into account movement of the frames due to tracking- and/or atmospheric effects. 
\end{itemize}

In addition to these minimum requirements, it would be \emph{desirable} to have results for:

\begin{itemize}
	\item Full photometric reduction. If the quality of the automated reduction (through sextractor) is not high enough for detailed science research, then the pipeline could include a stage that prepares and runs the current Ultracam pipeline reduction process for more accurate reductions.
	\item Identification of moving objects seen in the run. For example, these might be Kuiper belt objects (moving at a few arcseconds per hour).
	\item Automated alerts triggered when a interesting (variable) light curve is detected by the pipeline. 
	\item Movies (in .mp4 format) of the run displayed in the light-curve browser. 
\end{itemize}

\subsection{User Interface}
A User Interface (possibly HTML/Javascript based - to allow hosting on a website) will allow researchers to easily browse the reduced Ultracam data. The CCD image of the run should be displayed (together with accurate coordinates) and object labels alongside the light curves of each object. For crowded fields the researcher will be able to click on an object to see the light curve displayed in a separate panel. Below is a mockup of the ‘light-curve-browser’.
Click the link to view in a browser


Approach
At a high level, the approach of this project will be to 
run through all of the raw Ultracam data and pipe it to the 
sextractor software that will identify and measure the objects in 
the field. The code written in this project will build and monitor 
the pipeline and produce the output results. Monitoring the pipeline 
will require the code to identify and maintain a list of objects 
from frame to frame in order to track and produce consistent 
photometry. 





\section{Thesis outline}

\section{Timetable for work}

Timeline 
The high level view of the timeline for the 1 year duration of the MSc project is as follows:

\emph{October - January}
\begin{itemize} 
	\item Prototyping and building of automatic Ultracam reduction pipeline.
February
	\item Demonstration to the department at Warwick through internal seminar.
	\item Code refactoring.
	\item Checking code into gitHub.
\end{itemize}

\emph{March}
\begin{itemize} 
	\item Code revisions based on feedback from demos, training and presentation.
	\item Progress report and thesis plan due, 24th March
\end{itemize}

\emph{April}
\begin{itemize} 
	\item New demonstrations to the department at Monday morning meeting.
	\item Identification of objects worth study.
	\item Production of data metrics (colour-colour diagrams, magnitude-error plots, etc)
	\item Viva with Director of Graduates 14th April 2014
	\item Publishing to wider Ultracam audience (eg Sheffield) via an online demo/web interface.
	\item Training of three department members (from Boris, Tom, Madelon, Elme) on how to operate the software.
\end{itemize}
	
	
\emph{May}
\begin{itemize} 
	\item Further investigation (and publication of identified objects)
\end{itemize}

\emph{June-July}
\begin{itemize} 
	\item Thesis iterations
\end{itemize}
	
\emph{August}
\begin{itemize} 
	\item Thesis submission and viva
\end{itemize}
	
\emph{Reading list}
\begin{itemize} 
	\item The Monitor Project: Data Processing and light-curve production, Irwin and Irwin, MNRAS Feb 2008
	\item Cataclysmic Variable Stars: How and why they vary, Coel Hellier
\end{itemize}


\section{Instructions}

Progress Report and Thesis Plan

A progress report of at least 3000 words is to be submitted after 
six months (usually Easter or equivalent date). By this time most of 
the experimental work / calculations should be complete. The report 
should clearly indicate the progress to date and may contain 
material that could be used in the introductory chapters of your MSc 
thesis. The report will:

\begin{itemize} 
\item briefly review the chosen project field, putting the work in context 
\item report on the research work completed 
\item show what still needs to be done to complete the MSc 
research 
\item contain a draft thesis plan, with detail of the 
contents down to sub-heading level, an indication of page numbers 
and the state of completedness of each section 
\item include a detailed timetable for completion of the research and writing the 
thesis \end{itemize}

\begin{thebibliography}{10}
	\bibitem{dhillon07}Dhillon, V. S., Marsh, T.R. et al, 2007. \emph{ULTRACAM: an ultrafast, triple-beam CCD camera for high speed astrophysics}, MNRAS, 378.
\end{thebibliography}

\end{document}

